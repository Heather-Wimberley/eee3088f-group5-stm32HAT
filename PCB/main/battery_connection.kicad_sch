(kicad_sch (version 20211123) (generator eeschema)

  (uuid a683227e-0e7d-4ea3-9a30-7f41c9634ef9)

  (paper "A4")

  (lib_symbols
    (symbol "Device:Battery" (pin_numbers hide) (pin_names (offset 0) hide) (in_bom yes) (on_board yes)
      (property "Reference" "BT" (id 0) (at 2.54 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "Battery" (id 1) (at 2.54 0 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0 1.524 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 1.524 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "batt voltage-source cell" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Multiple-cell battery" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Battery_0_1"
        (rectangle (start -2.032 -1.397) (end 2.032 -1.651)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start -2.032 1.778) (end 2.032 1.524)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start -1.3208 -1.9812) (end 1.27 -2.4892)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start -1.3208 1.1938) (end 1.27 0.6858)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 0 -1.524)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 -1.016)
            (xy 0 -0.762)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 -0.508)
            (xy 0 -0.254)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 0.254)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0.508)
            (xy 0 0.762)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 1.778)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.254 2.667)
            (xy 1.27 2.667)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 3.175)
            (xy 0.762 2.159)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "Battery_1_1"
        (pin passive line (at 0 5.08 270) (length 2.54)
          (name "+" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -5.08 90) (length 2.54)
          (name "-" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:D_Schottky" (pin_numbers hide) (pin_names (offset 1.016) hide) (in_bom yes) (on_board yes)
      (property "Reference" "D" (id 0) (at 0 2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "D_Schottky" (id 1) (at 0 -2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "diode Schottky" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Schottky diode" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "TO-???* *_Diode_* *SingleDiode* D_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "D_Schottky_0_1"
        (polyline
          (pts
            (xy 1.27 0)
            (xy -1.27 0)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 1.27)
            (xy 1.27 -1.27)
            (xy -1.27 0)
            (xy 1.27 1.27)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.905 0.635)
            (xy -1.905 1.27)
            (xy -1.27 1.27)
            (xy -1.27 -1.27)
            (xy -0.635 -1.27)
            (xy -0.635 -0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "D_Schottky_1_1"
        (pin passive line (at -3.81 0 0) (length 2.54)
          (name "K" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 3.81 0 180) (length 2.54)
          (name "A" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Jumper:SolderJumper_2_Bridged" (pin_names (offset 0) hide) (in_bom yes) (on_board yes)
      (property "Reference" "JP" (id 0) (at 0 2.032 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "SolderJumper_2_Bridged" (id 1) (at 0 -2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "solder jumper SPST" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Solder Jumper, 2-pole, closed/bridged" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SolderJumper*Bridged*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "SolderJumper_2_Bridged_0_1"
        (rectangle (start -0.508 0.508) (end 0.508 -0.508)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (arc (start -0.254 1.016) (mid -1.27 0) (end -0.254 -1.016)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (arc (start -0.254 1.016) (mid -1.27 0) (end -0.254 -1.016)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy -0.254 1.016)
            (xy -0.254 -1.016)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.254 1.016)
            (xy 0.254 -1.016)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (arc (start 0.254 -1.016) (mid 1.27 0) (end 0.254 1.016)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (arc (start 0.254 -1.016) (mid 1.27 0) (end 0.254 1.016)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
      )
      (symbol "SolderJumper_2_Bridged_1_1"
        (pin passive line (at -3.81 0 0) (length 2.54)
          (name "A" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 3.81 0 180) (length 2.54)
          (name "B" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:-BATT" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "-BATT" (id 1) (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag battery" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"-BATT\"" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "-BATT_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 1.27)
            (xy -0.762 1.27)
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
      )
      (symbol "-BATT_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "-BATT" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 147.955 119.38) (diameter 0) (color 0 0 0 0)
    (uuid 3565dbe6-cbf6-4aaf-9094-56170c99044e)
  )

  (wire (pts (xy 147.955 100.965) (xy 147.955 108.585))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 34019559-ba1f-426e-8663-fc17a4d38498)
  )
  (wire (pts (xy 147.955 119.38) (xy 147.955 121.285))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 5218eb41-ac04-4189-aa71-76670089d30b)
  )
  (wire (pts (xy 147.955 81.28) (xy 147.955 93.345))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 632f6b75-69b4-4547-9a40-c39d5a9f1de2)
  )
  (wire (pts (xy 147.955 142.875) (xy 147.955 140.335))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 653308b4-f828-4e3f-9365-b284cd671332)
  )
  (wire (pts (xy 109.22 119.38) (xy 147.955 119.38))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 996a2c0e-1e4e-4d2a-ba84-47ee10381b86)
  )
  (wire (pts (xy 147.955 116.205) (xy 147.955 119.38))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a832ac07-79cb-4f59-bfca-e32a60417350)
  )
  (wire (pts (xy 147.955 132.715) (xy 147.955 131.445))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid bd3d6489-7cd4-4906-8713-2c9237fa3b4d)
  )
  (wire (pts (xy 50.165 78.105) (xy 109.22 78.105))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c0cabfe4-aef9-4e2b-8aac-d54e922631e1)
  )
  (wire (pts (xy 109.22 78.105) (xy 109.22 119.38))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid dd46b11d-35e6-48a9-a75f-81f63271a21e)
  )

  (text "-Batt is connected to GND plate\nSo is USB GND\n" (at 172.085 147.32 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 3322c855-9fe7-4591-a161-4f60c1531eee)
  )
  (text "Battery Input Polarity Protection\n" (at 172.72 104.775 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 6fa36bf6-d5ce-4ed2-820e-4046f04e8a6c)
  )
  (text "If charging, battery is still connected to circuit,\nmeaning that power from here will still be going to circuit.\nHow to fix? Possible switch to end power to circuit to allow battery to charge"
    (at 31.115 109.855 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid c2ecd3c3-5b84-4ba2-bb5a-51d35e5e8522)
  )

  (hierarchical_label "Charge+" (shape input) (at 50.165 78.105 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 69b2eb85-5592-405a-9b2d-1bde007c93b6)
  )
  (hierarchical_label "VBatt" (shape output) (at 147.955 81.28 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid f517bdef-9442-45bc-a685-368d54b0fc64)
  )

  (symbol (lib_id "Device:Battery") (at 147.955 126.365 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 0db68968-3e90-4cdc-ac8a-d8b9a7af2e42)
    (property "Reference" "BT1" (id 0) (at 151.13 124.7139 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "18650" (id 1) (at 151.13 127.2539 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (id 2) (at 147.955 124.841 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 147.955 124.841 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid b91ff46a-9b51-498a-8069-4e99d5d1dd23))
    (pin "2" (uuid 6286484f-64aa-4cde-bb18-113c198fbce3))
  )

  (symbol (lib_id "Jumper:SolderJumper_2_Bridged") (at 147.955 112.395 270) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 15da014c-6535-4b07-b3e5-3472f9e6ae0d)
    (property "Reference" "JP8" (id 0) (at 149.86 111.1249 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "SolderJumper_2_Bridged" (id 1) (at 149.86 113.6649 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Jumper:SolderJumper-2_P1.3mm_Bridged2Bar_Pad1.0x1.5mm" (id 2) (at 147.955 112.395 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 147.955 112.395 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid c9bc2574-a8c2-4685-9730-ec36be1b170e))
    (pin "2" (uuid c778bd07-f855-4d66-bfe3-83d724eecd80))
  )

  (symbol (lib_id "Jumper:SolderJumper_2_Bridged") (at 147.955 136.525 90) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 56a0e0a9-0cce-4dab-ab4c-c9db66edc361)
    (property "Reference" "JP9" (id 0) (at 149.86 135.2549 90)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Value" "SolderJumper_2_Bridged" (id 1) (at 149.86 137.7949 90)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Footprint" "Jumper:SolderJumper-2_P1.3mm_Bridged2Bar_Pad1.0x1.5mm" (id 2) (at 147.955 136.525 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 147.955 136.525 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 3875c52d-70a8-4d34-aa19-29ce4ab22643))
    (pin "2" (uuid 341b4b15-d176-44da-b856-e7de09440fe6))
  )

  (symbol (lib_id "Device:D_Schottky") (at 147.955 97.155 270) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid afbbf204-b29e-4608-ade6-0fce6c00690e)
    (property "Reference" "D2" (id 0) (at 151.13 95.5674 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "BAT54S" (id 1) (at 151.13 98.1074 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Diode_SMD:D_SOT-23_ANK" (id 2) (at 147.955 97.155 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 147.955 97.155 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid cffb1888-eb7d-44d3-9776-13ccdef24c86))
    (pin "2" (uuid 11a8e0c8-4b42-4068-8373-f2b7fa5f770e))
  )

  (symbol (lib_id "power:-BATT") (at 147.955 142.875 180) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid c0a136df-d91a-4e18-9bf8-78087246f6d1)
    (property "Reference" "#PWR028" (id 0) (at 147.955 139.065 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "-BATT" (id 1) (at 147.955 149.225 0))
    (property "Footprint" "" (id 2) (at 147.955 142.875 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 147.955 142.875 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid ffd68565-ffea-49f0-9eca-5c01de07792f))
  )
)
